<!DOCTYPE html>
<html>
  <script src="jquery-3.4.1.min.js"></script>
  <script type="text/javascript">
  var events = [["10/25", "Illenium", "Future Bass", "Academy", "https://www.facebook.com/ILLENIUM/"],
                ["10/26", "Eprom", "Experimental", "Shrine", "https://www.facebook.com/ILLENIUM/"],
                ["10/27", "Svdden Death", "Dubstep", "1720", "https://www.facebook.com/ILLENIUM/"],
                ["10/28", "Zomboy", "Dubstep", "Avalon", "https://www.facebook.com/ILLENIUM/"]];

  function addList(date, artist, genre, venue, link) {
      var newli = document.createElement("li");
      var newTime = document.createElement("div");
      newTime.className = "time";

      var newH2 = document.createElement("h2");
      newH2.innerHTML = date;

      var newArtist = document.createElement("div");
      newArtist.className = "artist";
      newArtist.innerHTML = artist;

      var newGenre = document.createElement("div");
      newGenre.className = "genre";
      newGenre.innerHTML = genre;

      var newVenue = document.createElement("div");
      newVenue.className = "venue";
      newVenue.innerHTML = venue;

      var newDetail = document.createElement("button");
      newDetail.className = "details";
      newDetail.innerHTML = "View Details";
      newDetail.href = link;

      var newButton = document.createElement("button");
      newButton.className = "addevent";
      newButton.innerHTML = "Add to Your Events";
      newButton.onclick = function() { addEvent(newli, newButton); }

      var listR = document.getElementById('contentR');
      var listL = document.getElementById('contentL');
      listR.appendChild(newli);
      newli.appendChild(newTime);
      newTime.appendChild(newH2);
      newli.appendChild(newArtist);
      newli.appendChild(newGenre);
      newli.appendChild(newVenue);
      newli.appendChild(newDetail);
      newli.appendChild(newButton);



    }

    function addEvent(id, button) {
      var addID = id;
      var destination = document.getElementById('contentL');
      destination.appendChild(addID);
      button.innerHTML = "Remove From Your Events";
      button.onclick = function() { removeEvent(addID, button); }

    }

    function removeEvent(id, button) {
      var removeID = id;
      var destination = document.getElementById('contentR');
      destination.appendChild(removeID);
      button.innerHTML = "Add to Your Events";
      button.onclick = function() { addEvent(removeID, button); }
      sortList(events);
    }

    function createList(list){
      for (var i = 0; i < list[0].length-1; i++) {
          addList(list[i][0], list[i][1], list[i][2], list[i][3], list[i][4]);
      }
    }

    function clearList(){
      document.getElementById("contentR").innerHTML = "";
    }

    function sortList(list, num, name){
      clearList();
      var sortItem = num;


      switch (sortItem) {
        case 0:
          list.sort(sortDate);
          break;
        case 1:
          list.sort(sortArtist);
          break;
        case 2:
          list.sort(sortGenre);
          break;
        case 3:
          list.sort(sortVenue);
          break;
        default:

      }
      createList(list);
    }

    function sortDate(a, b) {
      document.getElementById('date').style.backgroundColor = "#741796";
      document.getElementById('artist').style.backgroundColor = "#835694";
      document.getElementById('genre').style.backgroundColor = "#835694";
      document.getElementById('venue').style.backgroundColor = "#835694";
      if (a[0] === b[0]) {
        return 0;
      }
      else {
        return (a[0] < b[0]) ? -1 : 1;
      }
    }
    function sortArtist(a, b) {
      document.getElementById('date').style.backgroundColor = "#835694";
      document.getElementById('artist').style.backgroundColor = "#741796";
      document.getElementById('genre').style.backgroundColor = "#835694";
      document.getElementById('venue').style.backgroundColor = "#835694";
      if (a[1] === b[1]) {
        return 0;
      }
      else {
        return (a[1] < b[1]) ? -1 : 1;
      }
    }
    function sortGenre(a, b) {
      document.getElementById('date').style.backgroundColor = "#835694";
      document.getElementById('artist').style.backgroundColor = "#835694";
      document.getElementById('genre').style.backgroundColor = "#741796";
      document.getElementById('venue').style.backgroundColor = "#835694";
      if (a[2] === b[2]) {
        return 0;
      }
      else {
        return (a[2] < b[2]) ? -1 : 1;
      }
    }
    function sortVenue(a, b) {
      document.getElementById('date').style.backgroundColor = "#835694";
      document.getElementById('artist').style.backgroundColor = "#835694";
      document.getElementById('genre').style.backgroundColor = "#835694";
      document.getElementById('venue').style.backgroundColor = "#741796";
      if (a[3] === b[3]) {
        return 0;
      }
      else {
        return (a[3] < b[3]) ? -1 : 1;
      }
    }

    function searchList() {
      // Declare variables
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('inputSearch');
      filter = input.value.toUpperCase();
      ul = document.getElementById("contentR");
      li = ul.getElementsByTagName('li');

      div = li[0].getElementsByTagName("div")[0];
      data = div[1].textContent;
      document.getElementById('artist').innerHTML = "hello";

    }


  </script>
  <head>
      <title>Los Angeles Events</title>
      <link rel="stylesheet" type="text/css" href="eventBay.css">
      <script src="jquery-csv.js"></script>
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>

  <body>
    <!-- Navbar -->
    <div class="w3-top">
      <div class="w3-bar w3-white w3-card">
        <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
        <a href="index.html" class="w3-bar-item w3-button w3-padding-large">HOME</a>
        <a href="festivals.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small">FESTIVALS</a>
        <div class="w3-dropdown-hover w3-hide-small">
          <button class="w3-padding-large w3-button" title="More">ACCOUNT <i class="fa fa-caret-down"></i></button>
          <div class="w3-dropdown-content w3-bar-block w3-card-4">
            <a href="login.html" class="w3-bar-item w3-button">SIGN IN</a>
            <a href="register.html" class="w3-bar-item w3-button">REGISTER</a>
          </div>
        </div>

      <a onclick="showLoginModal()" style="cursor: pointer;" class="w3-padding-large w3-hover-green w3-hide-small w3-right"><i>Login</i></a>
      <a href="user_profile.php" class="w3-bar-item w3-button w3-padding-large w3-hide-small w3-right">MY PROFILE</a>
      </div>
    </div>

    <section>
      <div class="left-box">
        <div class="content">
          <h1>Your Events</h1>
        </div>
        <div id="body">

            <ul id="contentL">

            </ul>
      </div>
      </div>

      <div class="events">
        <div class="content">
          <h1>Los Angeles Events</h1>

        </div>
        <div class="search">
          <input type="text" id="inputSearch" onkeyup="searchList()" placeholder="Search for names..">
        </div>
        <div class="sort">
          <h3>Sort By:</h3>
          <div class="sortButtons">
            <button type="button" id="date" onclick="sortList(events, 0)">Date</button>
            <button type="button" id="artist" onclick="sortList(events, 1)">Artist</button>
            <button type="button" id="genre" onclick="sortList(events, 2)">Genre</button>
            <button type="button" id="venue" onclick="sortList(events, 3)">Venue</button>
          </div>


        </div>
        <div id="body">

            <ul id="contentR">
              <script type="text/javascript">
                //var date = "10/25";
                //var artist = "Illenium";
                //var genre = "Future Bass";
                //var venue = "Academy";
                //var link = "https://www.facebook.com/ILLENIUM/";



                createList(events);








              </script>
            </ul>


      </div>
    </div>
    </section>
  </body>
</html>
